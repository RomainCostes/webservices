{"version":3,"file":"main.js","mappings":"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","sources":["webpack://rendu-tp0/./apps/rest-api/src/app/app.module.ts","webpack://rendu-tp0/./apps/rest-api/src/app/client-cache.interceptor.ts","webpack://rendu-tp0/./apps/rest-api/src/app/common/logging.config.ts","webpack://rendu-tp0/./apps/rest-api/src/app/equipe/equipe.controller.ts","webpack://rendu-tp0/./apps/rest-api/src/app/equipe/equipe.documentation.ts","webpack://rendu-tp0/./apps/rest-api/src/app/equipe/equipe.entity.ts","webpack://rendu-tp0/./apps/rest-api/src/app/equipe/equipe.mapper.ts","webpack://rendu-tp0/./apps/rest-api/src/app/equipe/equipe.module.ts","webpack://rendu-tp0/./apps/rest-api/src/app/equipe/equipe.service.ts","webpack://rendu-tp0/./apps/rest-api/src/app/equipe/equipe.validation.ts","webpack://rendu-tp0/./apps/rest-api/src/app/match/match.controller.ts","webpack://rendu-tp0/./apps/rest-api/src/app/match/match.documentation.ts","webpack://rendu-tp0/./apps/rest-api/src/app/match/match.entity.ts","webpack://rendu-tp0/./apps/rest-api/src/app/match/match.mapper.ts","webpack://rendu-tp0/./apps/rest-api/src/app/match/match.module.ts","webpack://rendu-tp0/./apps/rest-api/src/app/match/match.service.ts","webpack://rendu-tp0/./apps/rest-api/src/app/match/match.validation.ts","webpack://rendu-tp0/./apps/rest-api/src/environments/environment.ts","webpack://rendu-tp0/./libs/api/repository/error/src/index.ts","webpack://rendu-tp0/./libs/api/repository/error/src/lib/api-repository-error.ts","webpack://rendu-tp0/./libs/api/validation/id/src/index.ts","webpack://rendu-tp0/./libs/api/validation/id/src/lib/api-validation-id.module.ts","webpack://rendu-tp0/./libs/api/validation/id/src/lib/is-object-id.decorator.ts","webpack://rendu-tp0/./libs/api/validation/id/src/lib/is-object-id.pipe.ts","webpack://rendu-tp0/./libs/api/validation/id/src/lib/is-object-id.util.ts","webpack://rendu-tp0/./libs/common/resource/core/src/index.ts","webpack://rendu-tp0/./libs/common/resource/core/src/lib/common-resource-core.ts","webpack://rendu-tp0/./libs/common/resource/equipe/src/index.ts","webpack://rendu-tp0/./libs/common/resource/equipe/src/lib/common-resource-equipe.ts","webpack://rendu-tp0/./libs/common/resource/equipe/src/lib/equipe.dto.ts","webpack://rendu-tp0/./libs/common/resource/match/src/index.ts","webpack://rendu-tp0/./libs/common/resource/match/src/lib/common-resource-match.ts","webpack://rendu-tp0/./libs/common/resource/match/src/lib/match.dto.ts","webpack://rendu-tp0/external commonjs \"@nestjs/common\"","webpack://rendu-tp0/external commonjs \"@nestjs/config\"","webpack://rendu-tp0/external commonjs \"@nestjs/core\"","webpack://rendu-tp0/external commonjs \"@nestjs/mapped-types\"","webpack://rendu-tp0/external commonjs \"@nestjs/mongoose\"","webpack://rendu-tp0/external commonjs \"@nestjs/swagger\"","webpack://rendu-tp0/external commonjs \"class-transformer\"","webpack://rendu-tp0/external commonjs \"class-validator\"","webpack://rendu-tp0/external commonjs \"compression\"","webpack://rendu-tp0/external commonjs \"express-winston\"","webpack://rendu-tp0/external commonjs \"helmet\"","webpack://rendu-tp0/external commonjs \"mongoose\"","webpack://rendu-tp0/external commonjs \"nest-winston\"","webpack://rendu-tp0/external commonjs \"tslib\"","webpack://rendu-tp0/external commonjs \"winston\"","webpack://rendu-tp0/webpack/bootstrap","webpack://rendu-tp0/./apps/rest-api/src/main.ts"],"sourcesContent":["import { Module, ValidationPipe } from '@nestjs/common';\r\nimport {APP_FILTER, APP_INTERCEPTOR, APP_PIPE} from '@nestjs/core';\r\nimport { MongooseModule } from '@nestjs/mongoose';\r\nimport { winstonConfig } from './common/logging.config';\r\nimport { EquipeModule } from './equipe/equipe.module';\r\nimport { MatchModule } from './match/match.module';\r\nimport { WinstonModule } from 'nest-winston';\r\nimport { ConfigModule, ConfigService } from '@nestjs/config';\r\nimport {environment} from \"../environments/environment\";\r\nimport { ClientCacheInterceptor } from './client-cache.interceptor';\r\n\r\nexport const mongoDbUri = function (configService: ConfigService) {\r\n  const username = configService.get('DATABASE_USERNAME');\r\n  const password = configService.get('DATABASE_PASSWORD');\r\n  const host = configService.get('DATABASE_HOST');\r\n  const databaseName = configService.get('DATABASE_NAME');\r\n  return {\r\n    uri: `mongodb+srv://${username}:${password}@${host}/${databaseName}`,\r\n  };\r\n};\r\n\r\n@Module({\r\n  imports: [\r\n    ConfigModule.forRoot({\r\n      envFilePath: environment.filePath,\r\n    }),\r\n    MongooseModule.forRootAsync({\r\n      imports: [ConfigModule],\r\n      useFactory: mongoDbUri,\r\n      inject: [ConfigService],\r\n    }),\r\n    WinstonModule.forRoot(winstonConfig),\r\n    EquipeModule,\r\n    MatchModule,\r\n  ],\r\n  controllers: [],\r\n  providers: [\r\n    {\r\n      provide: APP_PIPE,\r\n      useClass: ValidationPipe,\r\n    },\r\n    {\r\n      provide: APP_INTERCEPTOR,\r\n      useClass: ClientCacheInterceptor\r\n    }\r\n\r\n  ],\r\n})\r\nexport class AppModule {}\r\n","import {\r\n  CallHandler,\r\n  ExecutionContext,\r\n  Injectable,\r\n  NestInterceptor,\r\n} from '@nestjs/common';\r\nimport { Request, Response } from 'express';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class ClientCacheInterceptor implements NestInterceptor {\r\n  intercept(context: ExecutionContext, next: CallHandler): Observable<any> {\r\n    const request = context.switchToHttp().getRequest<Request>();\r\n    const response = context.switchToHttp().getResponse<Response>();\r\n    if (request.method === 'GET') {\r\n      response.header('cache-control', 'max-age=30');\r\n    }\r\n    return next.handle();\r\n  }\r\n}\r\n","import { format, transports } from 'winston';\r\n\r\nconst colorizer = format.colorize();\r\nconst processIdFormat = format((info) => {\r\n  info.processId = colorizer.colorize(info.level, `[NEST] ${process.pid}`);\r\n  return info;\r\n});\r\n\r\nconst levelFormat = format((info) => {\r\n  info.level = colorizer.colorize(info.level, info.level.toLocaleUpperCase());\r\n  return info;\r\n});\r\n\r\nconst contextFormat = format((info) => {\r\n  info.context = colorizer.colorize('warn', `[${info.context || ''}]`);\r\n  return info;\r\n});\r\n\r\nconst messageFormat = format((info) => {\r\n  info.message = colorizer.colorize(info.level, info.message);\r\n  return info;\r\n});\r\n\r\nconst msFormat = format((info) => {\r\n  info.ms = colorizer.colorize('warn', info.ms);\r\n  return info;\r\n});\r\n\r\nexport const winstonConfig = {\r\n  transports: [\r\n    new transports.Console({\r\n      format: format.combine(\r\n        format.timestamp({ format: 'dd/MM/YYYY, hh:mm:ss' }),\r\n        format.ms(),\r\n        processIdFormat(),\r\n        contextFormat(),\r\n        messageFormat(),\r\n        msFormat(),\r\n        levelFormat(),\r\n        format.printf((info) => {\r\n          return `${info.processId} ${info.timestamp} ${info.level} ${info.context} ${info.message} ${info.ms}`;\r\n        })\r\n      ),\r\n    }),\r\n    new transports.File({\r\n      level: 'debug',\r\n      format: format.combine(format.ms(), format.timestamp(), format.json()),\r\n      filename: 'rest-api.debug.log',\r\n    }),\r\n    new transports.File({\r\n      level: 'info',\r\n      format: format.combine(\r\n        format.ms(),\r\n        format.timestamp(),\r\n        format.colorize(),\r\n        format.json()\r\n      ),\r\n      filename: 'rest-api.error.log',\r\n    }),\r\n    new transports.File({\r\n      level: 'error',\r\n      format: format.combine(\r\n        format.ms(),\r\n        format.timestamp(),\r\n        format.colorize(),\r\n        format.json()\r\n      ),\r\n      filename: 'rest-api.error.log',\r\n    }),\r\n  ],\r\n};\r\n","import { IsObjectIdPipe } from '@rendu-tp0/api/validation/id';\r\nimport {\r\n  EquipeDto,\r\n  resourceEquipePath,\r\n} from '@rendu-tp0/common/resource/equipe';\r\nimport {\r\n  Body,\r\n  Controller,\r\n  Delete,\r\n  Get,\r\n  HttpCode,\r\n  HttpStatus,\r\n  Param,\r\n  Patch,\r\n  Post,\r\n  Put,\r\n  Query,\r\n  ValidationPipe,\r\n} from '@nestjs/common';\r\nimport {\r\n  ApiBadRequestResponse,\r\n  ApiBody,\r\n  ApiCreatedResponse,\r\n  ApiNoContentResponse,\r\n  ApiNotFoundResponse,\r\n  ApiOkResponse,\r\n  ApiParam,\r\n  ApiQuery,\r\n  ApiTags,\r\n} from '@nestjs/swagger';\r\nimport {\r\n  ApiEquipeCreateDto,\r\n  ApiEquipeDto,\r\n  ApiEquipeResetDto,\r\n  ApiEquipeUpdateDto,\r\n  equipeExample,\r\n} from './equipe.documentation';\r\nimport { EquipeService } from './equipe.service';\r\nimport {\r\n  EquipeCreateValidationDto,\r\n  EquipeResetValidationDto,\r\n  EquipeUpdateValidationDto,\r\n} from './equipe.validation';\r\nimport {IsInt, IsOptional, IsString, Max, MaxLength, Min, MinLength} from 'class-validator';\r\nimport { Type as TypeTransformer } from 'class-transformer';\r\nimport { CacheInterceptor, UseInterceptors } from '@nestjs/common';\r\n\r\nexport interface PaginationParams {\r\n  page?: number;\r\n  size?: number;\r\n}\r\n\r\nexport interface PostParams {\r\n  teamName?: string;\r\n}\r\n\r\nexport class PostParamsValidation implements PostParams {\r\n  @IsString()\r\n  @MinLength(1)\r\n  @MaxLength(30)\r\n  teamName?: string;\r\n}\r\n\r\nexport class PaginationParamsValidation implements PaginationParams {\r\n  @IsOptional()\r\n  @TypeTransformer(() => Number)\r\n  @IsInt()\r\n  @Min(1)\r\n  @Max(100)\r\n  size?: number;\r\n\r\n  @IsOptional()\r\n  @TypeTransformer(() => Number)\r\n  @IsInt()\r\n  @Min(1)\r\n  page?: number;\r\n}\r\n\r\n@ApiTags(resourceEquipePath)\r\n@Controller(resourceEquipePath)\r\nexport class EquipeController {\r\n  constructor(private readonly equipeService: EquipeService) {}\r\n\r\n  @Post()\r\n  @ApiBody({ type: ApiEquipeCreateDto })\r\n  @ApiCreatedResponse({ type: ApiEquipeDto })\r\n  @ApiBadRequestResponse()\r\n  @UseInterceptors(CacheInterceptor)\r\n  create(@Body(new ValidationPipe({\r\n    transform: true,\r\n    expectedType: PostParamsValidation,\r\n  })) dto: EquipeCreateValidationDto): Promise<EquipeDto> {\r\n    return this.equipeService.create(dto);\r\n  }\r\n\r\n  @ApiQuery({ name: 'page', type: 'integer', example: 1 })\r\n  @ApiQuery({ name: 'size', type: 'integer', example: 10 })\r\n  @UseInterceptors(CacheInterceptor)\r\n  @Get()\r\n  @ApiOkResponse({ type: [ApiEquipeDto] })\r\n  findAll(\r\n    @Query(\r\n      new ValidationPipe({\r\n        transform: true,\r\n        expectedType: PaginationParamsValidation,\r\n      })\r\n    )\r\n    paginationParams: PaginationParams\r\n  ): Promise<EquipeDto[]> {\r\n    return this.equipeService.findAll(paginationParams);\r\n  }\r\n\r\n  @Get(':id')\r\n  @ApiParam({ name: 'id', example: equipeExample.id })\r\n  @ApiOkResponse({ type: ApiEquipeDto })\r\n  @ApiNotFoundResponse()\r\n  @ApiBadRequestResponse()\r\n  @UseInterceptors(CacheInterceptor)\r\n  findOne(@Param('id', IsObjectIdPipe) id: string): Promise<EquipeDto> {\r\n    return this.equipeService.findOne(id);\r\n  }\r\n\r\n  @Patch(':id')\r\n  @ApiParam({ name: 'id', example: equipeExample.id })\r\n  @ApiBody({ type: ApiEquipeUpdateDto })\r\n  @ApiOkResponse({ type: ApiEquipeDto })\r\n  @ApiNotFoundResponse()\r\n  @ApiBadRequestResponse()\r\n  @UseInterceptors(CacheInterceptor)\r\n  update(\r\n    @Param('id', IsObjectIdPipe) id: string,\r\n    @Body(new ValidationPipe({\r\n      transform: true,\r\n      expectedType: PostParamsValidation,\r\n    })) dto: EquipeUpdateValidationDto\r\n  ): Promise<EquipeDto> {\r\n    return this.equipeService.update({ ...dto, id });\r\n  }\r\n\r\n  @Put(':id')\r\n  @ApiParam({ name: 'id', example: equipeExample.id })\r\n  @ApiBody({ type: ApiEquipeResetDto })\r\n  @ApiOkResponse({ type: ApiEquipeDto })\r\n  @ApiNotFoundResponse()\r\n  @ApiBadRequestResponse()\r\n  @UseInterceptors(CacheInterceptor)\r\n  reset(\r\n    @Param('id', IsObjectIdPipe) id: string,\r\n    @Body() dto: EquipeResetValidationDto\r\n  ): Promise<EquipeDto> {\r\n    return this.equipeService.reset({ ...dto, id });\r\n  }\r\n\r\n  @Delete(':id')\r\n  @HttpCode(HttpStatus.NO_CONTENT)\r\n  @ApiParam({ name: 'id', example: equipeExample.id })\r\n  @ApiNoContentResponse()\r\n  @ApiNotFoundResponse()\r\n  @ApiBadRequestResponse()\r\n  @UseInterceptors(CacheInterceptor)\r\n  remove(@Param('id', IsObjectIdPipe) id: string): Promise<void> {\r\n    return this.equipeService.remove(id);\r\n  }\r\n}\r\n\r\n","import {\r\n  EquipeCreateDto,\r\n  EquipeDto,\r\n  EquipeResetDto,\r\n  EquipeUpdateDto,\r\n} from '@rendu-tp0/common/resource/equipe';\r\nimport {\r\n  ApiProperty,\r\n  IntersectionType,\r\n  OmitType,\r\n  PartialType,\r\n  PickType,\r\n} from '@nestjs/swagger';\r\n\r\nexport const equipeExample: EquipeDto = {\r\n  id: '6214c0f2857cfb3569c19166',\r\n  teamName: `Toulouse`,\r\n};\r\n\r\nexport class ApiEquipeDto implements EquipeDto {\r\n  @ApiProperty({ example: equipeExample.id }) id: string;\r\n  @ApiProperty({ example: equipeExample.teamName }) teamName: string;\r\n}\r\n\r\nexport class ApiEquipeCreateDto\r\n  extends OmitType(ApiEquipeDto, ['id'])\r\n  implements EquipeCreateDto {}\r\nexport class ApiEquipeUpdateDto\r\n  extends IntersectionType(\r\n    PickType(ApiEquipeDto, ['id']),\r\n    PartialType(ApiEquipeCreateDto)\r\n  )\r\n  implements EquipeUpdateDto {}\r\nexport class ApiEquipeResetDto\r\n  extends ApiEquipeUpdateDto\r\n  implements EquipeResetDto {}\r\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\r\nimport { Document } from 'mongoose';\r\n\r\n@Schema({ collection: 'equipes' })\r\nexport class EquipeEntity {\r\n  @Prop({ required: true }) teamName: string;\r\n}\r\n\r\nexport type EquipeEntityWithId = EquipeEntity & Pick<Document, 'id'>;\r\nexport type EquipeDocument = EquipeEntity & Document;\r\nexport const EquipeSchema = SchemaFactory.createForClass(EquipeEntity);\r\n","import { Injectable, Logger } from '@nestjs/common';\r\nimport {\r\n  EquipeCreateDto,\r\n  EquipeDto,\r\n  EquipeResetDto,\r\n  EquipeUpdateDto,\r\n} from '@rendu-tp0/common/resource/equipe';\r\nimport {\r\n  EquipeDocument,\r\n  EquipeEntity,\r\n  EquipeEntityWithId,\r\n} from './equipe.entity';\r\n\r\nconst logMapper = new Logger('LogMapper');\r\n\r\nexport const equipeDocumentToDto = (document: EquipeDocument): EquipeDto => {\r\n  logMapper.debug('equipeDocumentToDto is find');\r\n  logMapper.log('equipeDocumentToDto is find');\r\n  logMapper.warn('equipeDocumentToDto is find');\r\n  logMapper.error('equipeDocumentToDto is find');\r\n  return {\r\n    id: document.id,\r\n    teamName: document.teamName,\r\n  };\r\n};\r\n\r\nexport const equipeCreateDtoToEntity = (dto: EquipeCreateDto): EquipeEntity => {\r\n  logMapper.debug('equipeCreateDtoToEntity is find');\r\n  logMapper.log('equipeCreateDtoToEntity is find');\r\n  logMapper.warn('equipeCreateDtoToEntity is find');\r\n  logMapper.error('equipeCreateDtoToEntity is find');\r\n  return {\r\n    teamName: dto.teamName,\r\n  };\r\n};\r\n\r\nexport const equipeUpdateDtoToEntity = (dto: EquipeUpdateDto): EquipeEntityWithId => {\r\n  logMapper.debug('equipeUpdateDtoToEntity is find');\r\n  logMapper.log('equipeUpdateDtoToEntity is find');\r\n  logMapper.warn('equipeUpdateDtoToEntity is find');\r\n  logMapper.error('equipeUpdateDtoToEntity is find');\r\n  return {\r\n    id: dto.id,\r\n    teamName: dto.teamName,\r\n  };\r\n};\r\n\r\nexport const equipeResetDtoToEntity = (dto: EquipeResetDto): EquipeEntityWithId => {\r\n  logMapper.debug('equipeResetDtoToEntity is find');\r\n  logMapper.log('equipeResetDtoToEntity is find');\r\n  logMapper.warn('equipeResetDtoToEntity is find');\r\n  logMapper.error('equipeResetDtoToEntity is find');\r\n  return {\r\n    id: dto.id,\r\n    teamName: dto.teamName ?? null,\r\n  };\r\n};\r\n","import { Module } from '@nestjs/common';\r\nimport { MongooseModule } from '@nestjs/mongoose';\r\nimport { EquipeEntity, EquipeSchema } from './equipe.entity';\r\nimport { EquipeService } from './equipe.service';\r\nimport { EquipeController } from './equipe.controller';\r\nimport { CacheModule } from '@nestjs/common';\r\n\r\n@Module({\r\n  imports: [\r\n      CacheModule.register({\r\n        ttl: 60,\r\n        max: 10\r\n      }),\r\n    MongooseModule.forFeature([\r\n      {\r\n        name: EquipeEntity.name,\r\n        schema: EquipeSchema,\r\n      },\r\n    ]),\r\n  ],\r\n  controllers: [EquipeController],\r\n  providers: [EquipeService],\r\n})\r\nexport class EquipeModule {}\r\n","import { handleDocumentNotFound } from '@rendu-tp0/api/repository/error';\r\nimport {\r\n  EquipeCreateDto,\r\n  EquipeDto,\r\n  EquipeResetDto,\r\n  EquipeUpdateDto,\r\n} from '@rendu-tp0/common/resource/equipe';\r\nimport { Injectable } from '@nestjs/common';\r\nimport { InjectModel } from '@nestjs/mongoose';\r\nimport { Model } from 'mongoose';\r\nimport { EquipeDocument, EquipeEntity } from './equipe.entity';\r\nimport {\r\n  equipeCreateDtoToEntity,\r\n  equipeDocumentToDto,\r\n  equipeResetDtoToEntity,\r\n  equipeUpdateDtoToEntity,\r\n} from './equipe.mapper';\r\nimport { PaginationParams } from './equipe.controller';\r\n\r\n@Injectable()\r\nexport class EquipeService {\r\n  constructor(\r\n    @InjectModel(EquipeEntity.name) private model: Model<EquipeDocument>\r\n  ) {}\r\n\r\n  create(dto: EquipeCreateDto): Promise<EquipeDto> {\r\n    const entity = equipeCreateDtoToEntity(dto);\r\n    return this.model.create(entity).then(equipeDocumentToDto);\r\n  }\r\n\r\n  findAll(paginationParams: PaginationParams): Promise<EquipeDto[]> {\r\n    return this.model\r\n      .find()\r\n      .skip((paginationParams.page - 1) * paginationParams.size)\r\n      .limit(paginationParams.size)\r\n      .exec()\r\n      .then((entities) => entities.map(equipeDocumentToDto));\r\n  }\r\n\r\n  findOne(id: string): Promise<EquipeDto> {\r\n    return this.model\r\n      .findById(id)\r\n      .orFail()\r\n      .exec()\r\n      .then(equipeDocumentToDto)\r\n      .catch(handleDocumentNotFound);\r\n  }\r\n\r\n  update(dto: EquipeUpdateDto): Promise<EquipeDto> {\r\n    const entity = equipeUpdateDtoToEntity(dto);\r\n    return this.model\r\n      .findByIdAndUpdate(entity.id, entity, { new: true })\r\n      .orFail()\r\n      .exec()\r\n      .then(equipeDocumentToDto)\r\n      .catch(handleDocumentNotFound);\r\n  }\r\n\r\n  reset(dto: EquipeResetDto): Promise<EquipeDto> {\r\n    const entity = equipeResetDtoToEntity(dto);\r\n    return this.model\r\n      .findByIdAndUpdate(entity.id, entity, { new: true })\r\n      .orFail()\r\n      .exec()\r\n      .then(equipeDocumentToDto)\r\n      .catch(handleDocumentNotFound);\r\n  }\r\n\r\n  remove(id: string): Promise<void> {\r\n    return this.model\r\n      .deleteOne({ _id: id })\r\n      .orFail()\r\n      .exec()\r\n      .then(() => null)\r\n      .catch(handleDocumentNotFound);\r\n  }\r\n}\r\n","import { IsObjectId } from '@rendu-tp0/api/validation/id';\r\nimport {\r\n  EquipeCreateDto,\r\n  EquipeDto,\r\n  EquipeResetDto,\r\n  EquipeUpdateDto,\r\n} from '@rendu-tp0/common/resource/equipe';\r\nimport {\r\n  IntersectionType,\r\n  OmitType,\r\n  PartialType,\r\n  PickType,\r\n} from '@nestjs/mapped-types';\r\nimport {\r\n  IsDateString,\r\n  IsInt,\r\n  IsOptional,\r\n  IsString,\r\n  Min,\r\n  MinLength,\r\n} from 'class-validator';\r\n\r\nexport class EquipeValidationDto implements EquipeDto {\r\n  @IsObjectId() id: string;\r\n  @IsString() teamName: string;\r\n}\r\n\r\nexport class EquipeCreateValidationDto\r\n  extends OmitType(EquipeValidationDto, ['id'])\r\n  implements EquipeCreateDto {}\r\nexport class EquipeUpdateValidationDto\r\n  extends IntersectionType(\r\n    PickType(EquipeValidationDto, ['id']),\r\n    PartialType(EquipeCreateValidationDto)\r\n  )\r\n  implements EquipeUpdateDto {}\r\nexport class EquipeResetValidationDto\r\n  extends EquipeUpdateValidationDto\r\n  implements EquipeResetDto {}\r\n","import { IsObjectIdPipe } from '@rendu-tp0/api/validation/id';\r\nimport { MatchDto, resourceMatchPath } from '@rendu-tp0/common/resource/match';\r\nimport {\r\n  Body,\r\n  Controller,\r\n  Delete,\r\n  Get,\r\n  HttpCode,\r\n  HttpStatus,\r\n  Param,\r\n  Patch,\r\n  Post,\r\n  Put,\r\n  Query,\r\n  ValidationPipe,\r\n} from '@nestjs/common';\r\nimport {\r\n  ApiBadRequestResponse,\r\n  ApiBody,\r\n  ApiCreatedResponse,\r\n  ApiNoContentResponse,\r\n  ApiNotFoundResponse,\r\n  ApiOkResponse,\r\n  ApiParam,\r\n  ApiQuery,\r\n  ApiTags,\r\n} from '@nestjs/swagger';\r\nimport {\r\n  ApiMatchCreateDto,\r\n  ApiMatchDto,\r\n  ApiMatchResetDto,\r\n  ApiMatchUpdateDto,\r\n  matchExample,\r\n} from './match.documentation';\r\nimport { MatchService } from './match.service';\r\nimport {\r\n  MatchCreateValidationDto,\r\n  MatchResetValidationDto,\r\n  MatchUpdateValidationDto,\r\n} from './match.validation';\r\nimport {IsDate, IsInt, IsNumber, IsOptional, IsString, Max, MaxLength, Min, MinLength} from 'class-validator';\r\nimport { Type as TypeTransformer } from 'class-transformer';\r\nimport { CacheInterceptor, UseInterceptors } from '@nestjs/common';\r\n\r\nexport interface PaginationParams {\r\n  page?: number;\r\n  size?: number;\r\n}\r\n\r\nexport class PaginationParamsValidation implements PaginationParams {\r\n  @IsOptional()\r\n  @TypeTransformer(() => Number)\r\n  @IsInt()\r\n  @Min(1)\r\n  @Max(100)\r\n  size?: number;\r\n\r\n  @IsOptional()\r\n  @TypeTransformer(() => Number)\r\n  @IsInt()\r\n  @Min(1)\r\n  page?: number;\r\n}\r\n\r\nexport interface PostParams {\r\n  date?: string;\r\n  homeTeamName?: string;\r\n  awayTeamName?: string;\r\n  homeTeamScore?: number;\r\n  awayTeamScore?: number;\r\n\r\n}\r\n\r\nexport class PostParamsValidation implements PostParams {\r\n  @IsString()\r\n  @MinLength(1)\r\n  @MaxLength(50)\r\n  date?: string;\r\n\r\n  @IsString()\r\n  @MinLength(1)\r\n  @MaxLength(30)\r\n  homeTeamName?: string;\r\n\r\n  @IsString()\r\n  @MinLength(1)\r\n  @MaxLength(30)\r\n  awayTeamName?: string;\r\n\r\n  @IsNumber()\r\n  @IsInt()\r\n  @Min(0)\r\n  @Max(100)\r\n  homeTeamScore?: number;\r\n\r\n  @IsNumber()\r\n  @IsInt()\r\n  @Min(0)\r\n  @Max(100)\r\n  awayTeamScore?: number;\r\n}\r\n\r\nexport interface FilterParams {\r\n  date?: string;\r\n  homeTeamName?: string;\r\n  awayTeamName?: string;\r\n  team?: string;\r\n}\r\n\r\nexport class FilterParamsValidation implements FilterParams {\r\n  @IsOptional()\r\n  @IsString()\r\n  team?: string;\r\n\r\n  @IsOptional()\r\n  @IsString()\r\n  date?: string;\r\n\r\n  @IsOptional()\r\n  @IsString()\r\n  homeTeamName: string;\r\n\r\n  @IsOptional()\r\n  @IsString()\r\n  awayTeamName: string;\r\n}\r\n\r\n@ApiTags(resourceMatchPath)\r\n@Controller(resourceMatchPath)\r\nexport class MatchController {\r\n  constructor(private readonly matchService: MatchService) {}\r\n\r\n  @Post()\r\n  @ApiBody({ type: ApiMatchCreateDto })\r\n  @ApiCreatedResponse({ type: ApiMatchDto })\r\n  @ApiBadRequestResponse()\r\n  @UseInterceptors(CacheInterceptor)\r\n  create(@Body(new ValidationPipe({\r\n    transform: true,\r\n    expectedType: PostParamsValidation,\r\n  })) dto: MatchCreateValidationDto): Promise<MatchDto> {\r\n    return this.matchService.create(dto);\r\n  }\r\n\r\n  @Get()\r\n  @ApiQuery({ name: 'page', type: 'integer', example: 1 })\r\n  @ApiQuery({ name: 'size', type: 'integer', example: 10 })\r\n  @ApiOkResponse({ type: [ApiMatchDto] })\r\n  @UseInterceptors(CacheInterceptor)\r\n  findAll(\r\n    @Query(\r\n      new ValidationPipe({\r\n        transform: true,\r\n        expectedType: PaginationParamsValidation,\r\n      })\r\n    )\r\n    paginationParams: PaginationParams,\r\n    @Query(\r\n      new ValidationPipe({\r\n        transform: true,\r\n        expectedType: PaginationParamsValidation,\r\n      })\r\n    )\r\n    filterParams: FilterParams\r\n  ): Promise<MatchDto[]> {\r\n    return this.matchService.findAll(paginationParams, filterParams);\r\n  }\r\n\r\n  @Get(':id')\r\n  @ApiParam({ name: 'id', example: matchExample.id })\r\n  @ApiOkResponse({ type: ApiMatchDto })\r\n  @ApiNotFoundResponse()\r\n  @ApiBadRequestResponse()\r\n  @UseInterceptors(CacheInterceptor)\r\n  findOne(@Param('id', IsObjectIdPipe) id: string): Promise<MatchDto> {\r\n    return this.matchService.findOne(id);\r\n  }\r\n\r\n  @Patch(':id')\r\n  @ApiParam({ name: 'id', example: matchExample.id })\r\n  @ApiBody({ type: ApiMatchUpdateDto })\r\n  @ApiOkResponse({ type: ApiMatchDto })\r\n  @ApiNotFoundResponse()\r\n  @ApiBadRequestResponse()\r\n  @UseInterceptors(CacheInterceptor)\r\n  update(\r\n    @Param('id', IsObjectIdPipe) id: string,\r\n    @Body(new ValidationPipe({\r\n      transform: true,\r\n      expectedType: PostParamsValidation,\r\n    })) dto: MatchUpdateValidationDto\r\n  ): Promise<MatchDto> {\r\n    return this.matchService.update({ ...dto, id });\r\n  }\r\n\r\n  @Put(':id')\r\n  @ApiParam({ name: 'id', example: matchExample.id })\r\n  @ApiBody({ type: ApiMatchResetDto })\r\n  @ApiOkResponse({ type: ApiMatchDto })\r\n  @ApiNotFoundResponse()\r\n  @ApiBadRequestResponse()\r\n  @UseInterceptors(CacheInterceptor)\r\n  reset(\r\n    @Param('id', IsObjectIdPipe) id: string,\r\n    @Body() dto: MatchResetValidationDto\r\n  ): Promise<MatchDto> {\r\n    return this.matchService.reset({ ...dto, id });\r\n  }\r\n\r\n  @Delete(':id')\r\n  @HttpCode(HttpStatus.NO_CONTENT)\r\n  @ApiParam({ name: 'id', example: matchExample.id })\r\n  @ApiNoContentResponse()\r\n  @ApiNotFoundResponse()\r\n  @ApiBadRequestResponse()\r\n  @UseInterceptors(CacheInterceptor)\r\n  remove(@Param('id', IsObjectIdPipe) id: string): Promise<void> {\r\n    return this.matchService.remove(id);\r\n  }\r\n}\r\n","import {\r\n  MatchCreateDto,\r\n  MatchDto,\r\n  MatchResetDto,\r\n  MatchUpdateDto,\r\n} from '@rendu-tp0/common/resource/match';\r\nimport {\r\n  ApiProperty,\r\n  IntersectionType,\r\n  OmitType,\r\n  PartialType,\r\n  PickType,\r\n} from '@nestjs/swagger';\r\n\r\nexport const matchExample: MatchDto = {\r\n  id: '6214c0f2857cfb3569c19166',\r\n  date: '2022-03-08T21:00:00.000+01:00',\r\n  homeTeamName: 'Liverpool',\r\n  awayTeamName: 'Inter Milan',\r\n  homeTeamScore: 0,\r\n  awayTeamScore: 1,\r\n};\r\n\r\nexport class ApiMatchDto implements MatchDto {\r\n  @ApiProperty({ example: matchExample.id }) id: string;\r\n  @ApiProperty({ example: matchExample.date, format: 'date-time' })\r\n  date: string;\r\n  @ApiProperty({ example: matchExample.homeTeamName }) homeTeamName: string;\r\n  @ApiProperty({ example: matchExample.awayTeamName }) awayTeamName: string;\r\n  @ApiProperty({\r\n    example: matchExample.homeTeamScore,\r\n    type: 'integer',\r\n    minimum: 0,\r\n  })\r\n  homeTeamScore: number;\r\n  @ApiProperty({\r\n    example: matchExample.awayTeamScore,\r\n    type: 'integer',\r\n    minimum: 0,\r\n  })\r\n  awayTeamScore: number;\r\n}\r\n\r\nexport class ApiMatchCreateDto\r\n  extends OmitType(ApiMatchDto, ['id'])\r\n  implements MatchCreateDto {}\r\nexport class ApiMatchUpdateDto\r\n  extends IntersectionType(\r\n    PickType(ApiMatchDto, ['id']),\r\n    PartialType(ApiMatchCreateDto)\r\n  )\r\n  implements MatchUpdateDto {}\r\nexport class ApiMatchResetDto\r\n  extends ApiMatchUpdateDto\r\n  implements MatchResetDto {}\r\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\r\nimport { Document } from 'mongoose';\r\n\r\n@Schema({ collection: 'matchs' })\r\nexport class MatchEntity {\r\n  @Prop({ required: true, type: Date }) date: Date;\r\n  @Prop() homeTeamName: string;\r\n  @Prop() awayTeamName: string;\r\n  @Prop() homeTeamScore: number;\r\n  @Prop() awayTeamScore: number;\r\n}\r\n\r\nexport type MatchEntityWithId = MatchEntity & Pick<Document, 'id'>;\r\nexport type MatchDocument = MatchEntity & Document;\r\nexport const MatchSchema = SchemaFactory.createForClass(MatchEntity);\r\n","import {\r\n  MatchCreateDto,\r\n  MatchDto,\r\n  MatchResetDto,\r\n  MatchUpdateDto,\r\n} from '@rendu-tp0/common/resource/match';\r\nimport { MatchDocument, MatchEntity, MatchEntityWithId } from './match.entity';\r\nimport {Logger} from \"@nestjs/common\";\r\n\r\nconst logMapper = new Logger('LogMapper');\r\n\r\nexport const matchDocumentToDto = (document: MatchDocument): MatchDto => {\r\n  logMapper.debug('matchDocumentToDto is find');\r\n  logMapper.log('matchDocumentToDto is find');\r\n  logMapper.warn('matchDocumentToDto is find');\r\n  logMapper.error('matchDocumentToDto is find');\r\n  return {\r\n    id: document.id,\r\n    date: document.date?.toISOString(),\r\n    homeTeamName: document.homeTeamName,\r\n    awayTeamName: document.awayTeamName,\r\n    homeTeamScore: document.homeTeamScore,\r\n    awayTeamScore: document.awayTeamScore,\r\n  };\r\n};\r\n\r\nexport const matchCreateDtoToEntity = (dto: MatchCreateDto): MatchEntity => {\r\n  logMapper.debug('matchCreateDtoToEntity is find');\r\n  logMapper.log('matchCreateDtoToEntity is find');\r\n  logMapper.warn('matchCreateDtoToEntity is find');\r\n  logMapper.error('matchCreateDtoToEntity is find');\r\n  return {\r\n    date: dto.date && new Date(dto.date),\r\n    homeTeamName: dto.homeTeamName,\r\n    awayTeamName: dto.awayTeamName,\r\n    homeTeamScore: dto.homeTeamScore,\r\n    awayTeamScore: dto.awayTeamScore,\r\n  };\r\n};\r\n\r\nexport const matchUpdateDtoToEntity = (dto: MatchUpdateDto): MatchEntityWithId => {\r\n  logMapper.debug('matchUpdateDtoToEntity is find');\r\n  logMapper.log('matchUpdateDtoToEntity is find');\r\n  logMapper.warn('matchUpdateDtoToEntity is find');\r\n  logMapper.error('matchUpdateDtoToEntity is find');\r\n  return {\r\n    id: dto.id,\r\n    date: dto.date && new Date(dto.date),\r\n    homeTeamName: dto.homeTeamName,\r\n    awayTeamName: dto.awayTeamName,\r\n    homeTeamScore: dto.homeTeamScore,\r\n    awayTeamScore: dto.awayTeamScore,\r\n  };\r\n};\r\n\r\nexport const matchResetDtoToEntity = (dto: MatchResetDto): MatchEntityWithId => {\r\n  logMapper.debug('matchResetDtoToEntity is find');\r\n  logMapper.log('matchResetDtoToEntity is find');\r\n  logMapper.warn('matchResetDtoToEntity is find');\r\n  logMapper.error('matchResetDtoToEntity is find');\r\n  return {\r\n    id: dto.id,\r\n    date: dto.date ? new Date(dto.date) : null,\r\n    homeTeamName: dto.homeTeamName ?? null,\r\n    awayTeamName: dto.awayTeamName ?? null,\r\n    homeTeamScore: dto.homeTeamScore ?? null,\r\n    awayTeamScore: dto.awayTeamScore ?? null,\r\n  };\r\n};\r\n","import { Module } from '@nestjs/common';\r\nimport { MongooseModule } from '@nestjs/mongoose';\r\nimport { MatchEntity, MatchSchema } from './match.entity';\r\nimport { MatchService } from './match.service';\r\nimport { MatchController } from './match.controller';\r\nimport { CacheModule } from '@nestjs/common';\r\n\r\n@Module({\r\n  imports: [\r\n    CacheModule.register({\r\n      ttl: 60,\r\n      max: 10\r\n    }),\r\n    MongooseModule.forFeature([\r\n      {\r\n        name: MatchEntity.name,\r\n        schema: MatchSchema,\r\n      },\r\n    ]),\r\n  ],\r\n  controllers: [MatchController],\r\n  providers: [MatchService],\r\n})\r\nexport class MatchModule {}\r\n","import { handleDocumentNotFound } from '@rendu-tp0/api/repository/error';\r\nimport {\r\n  MatchCreateDto,\r\n  MatchDto,\r\n  MatchResetDto,\r\n  MatchUpdateDto,\r\n} from '@rendu-tp0/common/resource/match';\r\nimport { Injectable } from '@nestjs/common';\r\nimport { InjectModel } from '@nestjs/mongoose';\r\nimport { Model } from 'mongoose';\r\nimport { MatchDocument, MatchEntity } from './match.entity';\r\nimport {\r\n  matchCreateDtoToEntity,\r\n  matchDocumentToDto,\r\n  matchResetDtoToEntity,\r\n  matchUpdateDtoToEntity,\r\n} from './match.mapper';\r\nimport { FilterParams, PaginationParams } from './match.controller';\r\n\r\n@Injectable()\r\nexport class MatchService {\r\n  constructor(\r\n    @InjectModel(MatchEntity.name) private model: Model<MatchDocument>\r\n  ) {}\r\n\r\n  create(dto: MatchCreateDto): Promise<MatchDto> {\r\n    const entity = matchCreateDtoToEntity(dto);\r\n    return this.model.create(entity).then(matchDocumentToDto);\r\n  }\r\n\r\n  findAll(\r\n    paginationParams: PaginationParams,\r\n    filterParams: FilterParams\r\n  ): Promise<MatchDto[]> {\r\n    return this.model\r\n      .find({\r\n        ...(filterParams.homeTeamName\r\n          ? { homeTeamName: filterParams.homeTeamName }\r\n          : {}),\r\n        ...(filterParams.awayTeamName\r\n          ? { awayTeamName: filterParams.awayTeamName }\r\n          : {}),\r\n        ...(filterParams.team\r\n          ? {\r\n              $or: [\r\n                { awayTeamName: filterParams.team },\r\n                { homeTeamName: filterParams.team },\r\n              ],\r\n            }\r\n          : {}),\r\n        ...(filterParams.date\r\n          ? {\r\n              date: {\r\n                $gte: new Date(filterParams.date),\r\n                $lt: new Date(filterParams.date).setDate(\r\n                  new Date(filterParams.date).getDate() + 1\r\n                ),\r\n              },\r\n            }\r\n          : {}),\r\n      })\r\n      .skip((paginationParams.page - 1) * paginationParams.size)\r\n      .limit(paginationParams.size)\r\n      .exec()\r\n      .then((entities) => entities.map(matchDocumentToDto));\r\n  }\r\n\r\n  findOne(id: string): Promise<MatchDto> {\r\n    return this.model\r\n      .findById(id)\r\n      .orFail()\r\n      .exec()\r\n      .then(matchDocumentToDto)\r\n      .catch(handleDocumentNotFound);\r\n  }\r\n\r\n  update(dto: MatchUpdateDto): Promise<MatchDto> {\r\n    const entity = matchUpdateDtoToEntity(dto);\r\n    return this.model\r\n      .findByIdAndUpdate(entity.id, entity, { new: true })\r\n      .orFail()\r\n      .exec()\r\n      .then(matchDocumentToDto)\r\n      .catch(handleDocumentNotFound);\r\n  }\r\n\r\n  reset(dto: MatchResetDto): Promise<MatchDto> {\r\n    const entity = matchResetDtoToEntity(dto);\r\n    return this.model\r\n      .findByIdAndUpdate(entity.id, entity, { new: true })\r\n      .orFail()\r\n      .exec()\r\n      .then(matchDocumentToDto)\r\n      .catch(handleDocumentNotFound);\r\n  }\r\n\r\n  remove(id: string): Promise<void> {\r\n    return this.model\r\n      .deleteOne({ _id: id })\r\n      .orFail()\r\n      .exec()\r\n      .then(() => null)\r\n      .catch(handleDocumentNotFound);\r\n  }\r\n}\r\n","import { IsObjectId } from '@rendu-tp0/api/validation/id';\r\nimport {\r\n  MatchCreateDto,\r\n  MatchDto,\r\n  MatchResetDto,\r\n  MatchUpdateDto,\r\n} from '@rendu-tp0/common/resource/match';\r\nimport {\r\n  IntersectionType,\r\n  OmitType,\r\n  PartialType,\r\n  PickType,\r\n} from '@nestjs/mapped-types';\r\nimport {\r\n  IsDateString,\r\n  IsInt,\r\n  IsOptional,\r\n  IsString,\r\n  Min,\r\n  MinLength,\r\n} from 'class-validator';\r\n\r\nexport class MatchValidationDto implements MatchDto {\r\n  @IsObjectId() id: string;\r\n  @IsDateString() date: string;\r\n  @IsString() homeTeamName: string;\r\n  @IsString() awayTeamName: string;\r\n  @IsInt() @Min(0) homeTeamScore: number;\r\n  @IsInt() @Min(0) awayTeamScore: number;\r\n}\r\n\r\nexport class MatchCreateValidationDto\r\n  extends OmitType(MatchValidationDto, ['id'])\r\n  implements MatchCreateDto {}\r\nexport class MatchUpdateValidationDto\r\n  extends IntersectionType(\r\n    PickType(MatchValidationDto, ['id']),\r\n    PartialType(MatchCreateValidationDto)\r\n  )\r\n  implements MatchUpdateDto {}\r\nexport class MatchResetValidationDto\r\n  extends MatchUpdateValidationDto\r\n  implements MatchResetDto {}\r\n","export const environment = {\r\n  filePath: '.env',\r\n  production: false,\r\n};\r\n","export * from './lib/api-repository-error';\r\n","import { NotFoundException } from '@nestjs/common';\r\nimport { Error } from 'mongoose';\r\n\r\nexport function apiRepositoryError(): string {\r\n  return 'api-repository-error';\r\n}\r\n\r\nexport const handleDocumentNotFound = (error: Error): never => {\r\n  if (error instanceof Error.DocumentNotFoundError) {\r\n    throw new NotFoundException();\r\n  }\r\n  throw error;\r\n};\r\n","export * from './lib/api-validation-id.module';\r\nexport * from './lib/is-object-id.pipe';\r\nexport * from './lib/is-object-id.decorator';\r\n","import { Module } from '@nestjs/common';\r\n\r\n@Module({\r\n  controllers: [],\r\n  providers: [],\r\n  exports: [],\r\n})\r\nexport class ApiValidationIdModule {}\r\n","import { registerDecorator, ValidationOptions } from 'class-validator';\r\nimport { isObjectId } from './is-object-id.util';\r\n\r\nexport function IsObjectId(validationOptions?: ValidationOptions) {\r\n  return function (object: unknown, propertyName: string) {\r\n    registerDecorator({\r\n      name: 'isObjectId',\r\n      target: object.constructor,\r\n      propertyName,\r\n      constraints: [],\r\n      options: {\r\n        message:\r\n          validationOptions?.message || `${propertyName} must be an object id`,\r\n        ...validationOptions,\r\n      },\r\n      validator: {\r\n        validate(value: unknown) {\r\n          return typeof value === 'string' && isObjectId(value);\r\n        },\r\n      },\r\n    });\r\n  };\r\n}\r\n","import {\r\n  ArgumentMetadata,\r\n  BadRequestException,\r\n  Injectable,\r\n  PipeTransform,\r\n} from '@nestjs/common';\r\nimport { registerDecorator, ValidationOptions } from 'class-validator';\r\nimport { Types } from 'mongoose';\r\nimport { isObjectId } from './is-object-id.util';\r\n\r\nconst checkObjectId = (value: string): string => {\r\n  if (isObjectId(value)) {\r\n    return value;\r\n  }\r\n  throw new BadRequestException();\r\n};\r\n\r\n@Injectable()\r\nexport class IsObjectIdPipe implements PipeTransform {\r\n  transform(value: string, metadata: ArgumentMetadata): string {\r\n    const id = value as string;\r\n    switch (metadata.type) {\r\n      case 'param':\r\n      case 'query':\r\n        return checkObjectId(id);\r\n      default:\r\n        return value;\r\n    }\r\n  }\r\n}\r\n","import { Types } from 'mongoose';\r\n\r\nexport const isObjectId = (value: string): boolean =>\r\n  Types.ObjectId.isValid(value);\r\n","export * from './lib/common-resource-core';\r\n","export function commonResourceCore(): string {\r\n  return 'common-resource-core';\r\n}\r\n\r\nexport const apiPathPrefix = 'api';\r\n","export * from './lib/common-resource-equipe';\r\nexport * from './lib/equipe.dto';\r\n","export function commonResourceEquipe(): string {\r\n  return 'common-resource-equipe';\r\n}\r\n\r\nexport const resourceEquipePath = 'equipes';\r\n","export interface EquipeDto {\r\n  id: string;\r\n  teamName: string;\r\n}\r\n\r\n// type with all properties from EquipeDto, excluding id\r\nexport type EquipeCreateDto = Omit<EquipeDto, 'id'>;\r\n\r\n// type with only id property from EquipeDto + all properties as optional from EquipeCreateDto\r\nexport type EquipeUpdateDto = Pick<EquipeDto, 'id'> & Partial<EquipeCreateDto>;\r\nexport type EquipeResetDto = EquipeUpdateDto;\r\n","export * from './lib/common-resource-match';\r\nexport * from './lib/match.dto';\r\n","export function commonResourceMatch(): string {\r\n  return 'common-resource-match';\r\n}\r\n\r\nexport const resourceMatchPath = 'matchs';\r\n","export interface MatchDto {\r\n  id: string;\r\n  date: string;\r\n  homeTeamName: string;\r\n  awayTeamName: string;\r\n  homeTeamScore: number;\r\n  awayTeamScore: number;\r\n}\r\n\r\n// type with all properties from MatchDto, excluding id\r\nexport type MatchCreateDto = Omit<MatchDto, 'id'>;\r\n\r\n// type with only id property from MatchDto + all properties as optional from MatchCreateDto\r\nexport type MatchUpdateDto = Pick<MatchDto, 'id'> & Partial<MatchCreateDto>;\r\nexport type MatchResetDto = MatchUpdateDto;\r\n","module.exports = require(\"@nestjs/common\");","module.exports = require(\"@nestjs/config\");","module.exports = require(\"@nestjs/core\");","module.exports = require(\"@nestjs/mapped-types\");","module.exports = require(\"@nestjs/mongoose\");","module.exports = require(\"@nestjs/swagger\");","module.exports = require(\"class-transformer\");","module.exports = require(\"class-validator\");","module.exports = require(\"compression\");","module.exports = require(\"express-winston\");","module.exports = require(\"helmet\");","module.exports = require(\"mongoose\");","module.exports = require(\"nest-winston\");","module.exports = require(\"tslib\");","module.exports = require(\"winston\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","/**\r\n * This is not a production server yet!\r\n * This is only a minimal backend to get started.\r\n */\r\n\r\nimport { apiPathPrefix } from '@rendu-tp0/common/resource/core';\r\nimport { Logger } from '@nestjs/common';\r\nimport { NestFactory } from '@nestjs/core';\r\nimport { DocumentBuilder, SwaggerModule } from '@nestjs/swagger';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { WINSTON_MODULE_NEST_PROVIDER } from 'nest-winston';\r\nimport * as expressWinston from 'express-winston';\r\nimport * as compression from 'compression';\r\nimport helmet from 'helmet';\r\n\r\nasync function bootstrap() {\r\n  const app = await NestFactory.create(AppModule);\r\n  app.use(compression());\r\n  app.use(helmet());\r\n  const globalPrefix = apiPathPrefix;\r\n  app.setGlobalPrefix(globalPrefix);\r\n  const logger = app.get(WINSTON_MODULE_NEST_PROVIDER);\r\n  app.useLogger(logger);\r\n\r\n  app.use(\r\n    expressWinston.logger({\r\n      winstonInstance: logger,\r\n      msg: '{{req.method}} {{req.url}} {{res.statusCode}} {{res.responseTime}}',\r\n    })\r\n  );\r\n  const config = new DocumentBuilder()\r\n    .setTitle('RenduTp')\r\n    .setDescription('RenduTp Desc')\r\n    .setVersion('1.0')\r\n    .build();\r\n  const document = SwaggerModule.createDocument(app, config);\r\n  SwaggerModule.setup(globalPrefix, app, document);\r\n\r\n  const port = process.env.PORT || 3333;\r\n  await app.listen(port);\r\n  Logger.log(\r\n    ` Application is running on: http://localhost:${port}/${globalPrefix}`\r\n  );\r\n}\r\n\r\nbootstrap();\r\n"],"names":[],"sourceRoot":""}